@using MyBusiness.Models

@{
    ViewBag.Title = "Apparels";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<!DOCTYPE html>

<html>
<head>
<br />
<div class ="bar"><span class="barText"><h2>Apparels</h2></span></div>
 

 <script type="text/javascript">

 
  function UpdateWomen()
 {         
            $.ajax({
                url: '@Url.Action("ReloadApparelsWomen", "Apparel")',
                data: { },
                type: 'POST',
                success: function (data) {
                $('#tabs-1').html(data);
                }
            });
 }


 function UpdateMen()
 {         
            $.ajax({
                url: '@Url.Action("ReloadApparelsMen", "Apparel")',
                data: { },
                type: 'POST',
                success: function (data) {
                $('#tabs-2').html(data);
                }
            });
 }

     function UpdateView(tab, path, desc) {
         if (tab == "tabs-1") {
                      $('#' + tab).html('<a href="#" onclick="UpdateWomen(); ">Go back</a> <br><img src="' + path + '" width=100% height=100% /> <br>' + desc);
         }
         else {
             $('#' + tab).html('<a href="#" onclick="UpdateMen(); ">Go back</a> <br><img src="' + path + '" width=100% height=100% /> <br>' + desc);
         }
     }

     $(function () {
     /*
         $("#tab1").on("click", function () {
             location.reload();
             $('#tabs').tabs('select', '#tab1');
         });
         $("#tab2").on("click", function () {
             location.reload();
             $('#tabs').tabs('select', '#tab2');
         });
         //  Define friendly index name
         var index = 'key';
         //  Define friendly data store name
         var dataStore = window.sessionStorage;

         //  Start magic!
         try {
             // getter: Fetch previous value
             var oldIndex = dataStore.getItem(index);
         } catch (e) {
             // getter: Always default to first tab in error state
             var oldIndex = 0;
         }
         */
         $("#tabs").tabs({
             /* The zero-based index of the panel that is active (open)
             active: oldIndex,
             // Triggered after a tab has been activated
             activate: function (event, ui) {
                 //  Get future value
                 var newIndex = ui.newTab.parent().children().index(ui.newTab);
                 //  Set future value
                 dataStore.setItem(index, newIndex)
             }*/
         });

         $("#tabs").tabs().css({
             'height': '660px',
             'overflow': 'auto',
             /*'background': 'lightblue',*/
             'font-size': '10pt'
         });


     });


 </script>
</head>
<body>
<br />
   <div id="tabs">
<ul>
<li id="tab1"><a href="#tabs-1">Women's</a></li>
<li id="tab2"><a href="#tabs-2">Men's</a></li>
</ul>
<div id="tabs-1">
 @Html.Partial("_ApparelsWomen")
</div>
<div id="tabs-2">
 @Html.Partial("_ApparelsMen")

</div>
</div>

</body>
</html>